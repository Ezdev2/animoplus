{
	"info": {
		"_postman_id": "admin-users-management-collection",
		"name": "Admin - Gestion des Utilisateurs",
		"description": "Collection pour la gestion des utilisateurs par les administrateurs",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{admin_token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "{{base_url}}"
		}
	],
	"item": [
		{
			"name": "Dashboard Admin",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/dashboard",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "dashboard"]
				}
			},
			"response": []
		},
		{
			"name": "Liste tous les utilisateurs",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/users?per_page=10",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "users"],
					"query": [
						{
							"key": "per_page",
							"value": "10"
						},
						{
							"key": "user_type",
							"value": "client",
							"disabled": true
						},
						{
							"key": "is_active",
							"value": "true",
							"disabled": true
						},
						{
							"key": "search",
							"value": "admin",
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Filtrer par type - Clients",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/users?user_type=client&per_page=5",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "users"],
					"query": [
						{
							"key": "user_type",
							"value": "client"
						},
						{
							"key": "per_page",
							"value": "5"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Filtrer par type - Vétérinaires",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/users?user_type=veterinarian&per_page=5",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "users"],
					"query": [
						{
							"key": "user_type",
							"value": "veterinarian"
						},
						{
							"key": "per_page",
							"value": "5"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Filtrer par type - Admins",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/users?user_type=admin&per_page=5",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "users"],
					"query": [
						{
							"key": "user_type",
							"value": "admin"
						},
						{
							"key": "per_page",
							"value": "5"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Rechercher utilisateurs",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/users?search=admin&per_page=5",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "users"],
					"query": [
						{
							"key": "search",
							"value": "admin"
						},
						{
							"key": "per_page",
							"value": "5"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Récupérer utilisateur par ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/users/{{user_id}}",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "users", "{{user_id}}"]
				}
			},
			"response": []
		},
		{
			"name": "Supprimer utilisateur par ID",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/users/{{user_id_to_delete}}",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "users", "{{user_id_to_delete}}"]
				}
			},
			"response": []
		},
		{
			"name": "Statistiques détaillées",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/stats",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "stats"]
				}
			},
			"response": []
		},
		{
			"name": "❌ Test - Supprimer son propre compte (doit échouer)",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/admin/users/{{admin_user_id}}",
					"host": ["{{base_url}}"],
					"path": ["api", "admin", "users", "{{admin_user_id}}"]
				}
			},
			"response": []
		}
	]
}
